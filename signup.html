<!DOCTYPE html>
<html lang="en">
 <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">

        <title> Ride Along!</title>

        <!-- CSS -->
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,100,300,500">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/font-awesome.min.css">
        <link rel="stylesheet" href="css/form-elements.css">
        <link rel="stylesheet" href="css/style.css">

         </head>

    <body>

        <!-- Top content -->
        <div class="top-content">
            
            <div class="inner-bg">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-8 col-sm-offset-2 text">
                        <br><br>
                            <h1><strong>Ride Along!</strong></h1>
                            <div class="description">
                                <p>
                                    Welcome To the Ashesi Carpool App!
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6 col-sm-offset-3 form-box">
                            <div class="form-top">
                                <div class="form-top-left">
                                    <p>Enter your details,and we'll sign you up:</p>
                                </div>
                            </div>
                            <div class="form-bottom">
                                <form role="form" action="signup.php" method="GET" class="login-form">
                                    <div class="form-group">
                                        <label class="sr-only" for="firstname">First Name</label>
                                        <input type="text" name="firstname" placeholder="First Name..." class="firstname form-control" id="firstname">
                                    </div>
                                    <div class="form-group">
                                        <label class="sr-only" for="lastname">Last Name</label>
                                        <input type="text" name="lastname" placeholder="Last Name..." class="lastname form-control" id="lastname">
                                    </div>
                                
                                    <div class="form-group">
                                        <label class="sr-only" for="username">Preferred Username</label>
                                        <input type="text" name="username" placeholder="Username..." class="username form-control" id="username">
                                    </div>
                                    <div class="form-group">
                                        <label class="sr-only" for="password">Password</label>
                                        <input type="password" name="password" placeholder="Password..." class="password form-control" id="password">
                                    </div>
                                    <div class="form-group">
                                        <label class="sr-only" for="telephone">Phone Number</label>
                                        <input type="tel" name="telephone" placeholder="Phone Number..." class="telephone form-control" id="telephone">
                                    </div>
                                </form>
                            </div>
                            <button onclick="addUser()" class="btn">Sign Up!</button>
                        </div>
                    </div>
            </div>
            
        </div>
</div>

        <!-- Javascript -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="js/bootstrap.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/npm.js"></script>
        <script src="js/placeholder.js"></script>
        <script src="js/scripts.js"></script>

        <script type="text/javascript">
            var currentObject=null;
        /**
        * callback function for add user method
        */
        function addUserComplete(xhr,status){
            if(status!="success"){
                divStatus.innerHTML="error sending request";
                return;
            }
            divStatus=xhr.responseText;
            var obj=JSON.parse(xhr.responseText);
            if(obj.result==0){
                divStatus.innerHTML = obj.message;
            }else{
                divStatus.innerHTML = "User added";
                }
            window.location="userpage.html";

            currentObject=null;
        }
        /**
        *makes a AJAX call to server to add user
        */
        function addUser(){
            var firstname = document.getElementById("firstname").value;
            var lastname = document.getElementById("lastname").value;
            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value; 
            var phonenumber = document.getElementById("telephone").value;

            $.ajax("http://52.89.116.249/~sylvia.engmann/ridealong/signup.php?firstname="+firstname+"&lastname="+lastname+
                "&username="+username+"&password="+password+"&phonenumber="+phonenumber, 
                {async:true,complete:addUserComplete   }
                );
    
            } 
        </script>
        
    </body>

</html>